<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:YNOV_Password.ViewModels"
        mc:Ignorable="d"
        x:Class="YNOV_Password.Views.PasswordGeneratorWindow"
        x:DataType="vm:PasswordGeneratorViewModel"
        d:DataContext="{d:DesignInstance Type=vm:PasswordGeneratorViewModel}"
        Icon="/Assets/avalonia-logo.ico"
        Title="GÃ©nÃ©rateur de mot de passe"
        Width="500"
        Height="600"
        CanResize="True"
        WindowStartupLocation="CenterOwner">

    <Window.Styles>
        <StyleInclude Source="avares://YNOV_Password/Styles/main.axaml"/>
    </Window.Styles>

    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20" Spacing="15">
            
            <!-- Titre -->
            <TextBlock Text="GÃ©nÃ©rateur de mot de passe"
                       FontSize="20"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"/>

            <!-- Mot de passe gÃ©nÃ©rÃ© -->
            <Border BorderBrush="#E0E0E0" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="15"
                    Background="#F9F9F9">
                <StackPanel Spacing="10">
                    <TextBlock Text="Mot de passe gÃ©nÃ©rÃ© :" 
                               FontWeight="Bold"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBox Grid.Column="0"
                                 Text="{Binding GeneratedPassword}"
                                 IsReadOnly="True"
                                 FontFamily="Consolas, Monaco, 'Courier New', monospace"
                                 FontSize="14"
                                 Margin="0,0,10,0"/>
                        
                        <TextBlock Grid.Column="1"
                                   Text="{Binding GeneratedPassword.Length, StringFormat='{}{0} car.'}"
                                   VerticalAlignment="Center"
                                   FontSize="12"
                                   Foreground="#666666"
                                   Margin="0,0,10,0"/>
                        
                        <Button Grid.Column="2"
                                Content="ðŸ“‹"
                                ToolTip.Tip="Copier"
                                Click="CopyPassword_Click"
                                Margin="0,0,5,0"
                                Width="35"
                                Height="35"/>
                        
                        <Button Grid.Column="3"
                                Content="ðŸ”„"
                                ToolTip.Tip="GÃ©nÃ©rer un nouveau"
                                Command="{Binding GeneratePasswordCommand}"
                                Width="35"
                                Height="35"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Options de gÃ©nÃ©ration -->
            <Border BorderBrush="#E0E0E0" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="15">
                <StackPanel Spacing="15">
                    <TextBlock Text="Options de gÃ©nÃ©ration" 
                               FontWeight="Bold"
                               FontSize="14"/>

                    <!-- Longueur du mot de passe -->
                    <StackPanel Spacing="5">
                        <TextBlock Text="Longueur du mot de passe :"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            <Slider Grid.Column="0"
                                    Minimum="4"
                                    Maximum="64"
                                    Value="{Binding PasswordLength}"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"
                                    Margin="0,0,10,0"/>
                            <NumericUpDown Grid.Column="1"
                                           Value="{Binding PasswordLength}"
                                           Minimum="4"
                                           Maximum="64"
                                           Increment="1"
                                           ShowButtonSpinner="True"/>
                        </Grid>
                    </StackPanel>

                    <!-- Cases Ã  cocher pour les types de caractÃ¨res -->
                    <StackPanel Spacing="10">
                        <TextBlock Text="Types de caractÃ¨res Ã  inclure :" 
                                   FontWeight="SemiBold"/>
                        
                        <CheckBox IsChecked="{Binding IncludeUppercase}"
                                  Content="Lettres majuscules (A-Z)"/>
                        
                        <CheckBox IsChecked="{Binding IncludeLowercase}"
                                  Content="Lettres minuscules (a-z)"/>
                        
                        <CheckBox IsChecked="{Binding IncludeNumbers}"
                                  Content="Chiffres (0-9)"/>
                        
                        <CheckBox IsChecked="{Binding IncludeSpecialChars}"
                                  Content="CaractÃ¨res spÃ©ciaux"/>
                    </StackPanel>

                    <!-- CaractÃ¨res spÃ©ciaux personnalisÃ©s -->
                    <StackPanel Spacing="5" 
                                IsVisible="{Binding IncludeSpecialChars}">
                        <TextBlock Text="CaractÃ¨res spÃ©ciaux personnalisÃ©s :"/>
                        <TextBox Text="{Binding CustomSpecialChars}"
                                 Watermark="Entrez les caractÃ¨res spÃ©ciaux souhaitÃ©s"
                                 FontFamily="Consolas, Monaco, 'Courier New', monospace"/>
                        <TextBlock Text="Exemples : !@#$%^&amp;*()_+-=[]{}|;:,.&lt;&gt;?"
                                   FontSize="11"
                                   Foreground="#666666"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Force du mot de passe -->
            <Border BorderBrush="#E0E0E0" 
                    BorderThickness="1" 
                    CornerRadius="4" 
                    Padding="15">
                <StackPanel Spacing="10">
                    <TextBlock Text="Force du mot de passe" 
                               FontWeight="Bold"
                               FontSize="14"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <ProgressBar Grid.Column="0"
                                     Name="PasswordStrengthBar"
                                     Height="8"
                                     CornerRadius="4"
                                     Margin="0,0,10,0"/>
                        
                        <TextBlock Grid.Column="1"
                                   Name="PasswordStrengthText"
                                   FontWeight="SemiBold"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Boutons d'action -->
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="1"
                        Content="Utiliser ce mot de passe"
                        Click="UsePassword_Click"
                        Padding="15,8"
                        Margin="0,0,10,0"
                        Background="#34D399"
                        Foreground="White"
                        CornerRadius="4"/>
                
                <Button Grid.Column="2"
                        Content="Annuler"
                        Click="Cancel_Click"
                        Padding="15,8"
                        Background="#6B7280"
                        Foreground="White"
                        CornerRadius="4"/>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</Window>
