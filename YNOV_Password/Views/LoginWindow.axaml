<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:YNOV_Password.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="600"
        x:Class="YNOV_Password.Views.LoginWindow"
        x:DataType="vm:LoginViewModel"
        Title="YNOV Password - Connexion"
        Width="500"
        Height="600"
        WindowStartupLocation="CenterScreen"
        CanResize="false">
  
    <Border Background="#f5f5f5" Padding="40">
        <StackPanel Spacing="20" MaxWidth="400">
            <!-- Logo/Title -->
            <StackPanel HorizontalAlignment="Center" Spacing="10">
                <TextBlock Text="ðŸ”" FontSize="48" HorizontalAlignment="Center"/>
                <TextBlock Text="YNOV Password" 
                          FontSize="24" 
                          FontWeight="Bold" 
                          HorizontalAlignment="Center"
                          Foreground="#2c3e50"/>
                <TextBlock Name="ModeText"
                          FontSize="16" 
                          HorizontalAlignment="Center"
                          Foreground="#7f8c8d"/>
            </StackPanel>

            <!-- Login Form -->
            <Border Background="White" 
                    CornerRadius="10" 
                    Padding="30"
                    BoxShadow="0 2 10 #33000000">
                <StackPanel Spacing="20">
                    
                    <!-- Username field (only for registration) -->
                    <StackPanel Name="UsernamePanel" IsVisible="{Binding IsRegistering}" Spacing="5">
                        <TextBlock Text="Nom d'utilisateur" FontWeight="Medium" Foreground="#2c3e50"/>
                        <TextBox Text="{Binding Username}" 
                                 Watermark="Entrez votre nom d'utilisateur"
                                 Padding="12"
                                 BorderThickness="1"
                                 BorderBrush="#bdc3c7"
                                 CornerRadius="5"/>
                    </StackPanel>

                    <!-- Email field -->
                    <StackPanel Spacing="5">
                        <TextBlock Text="Email" FontWeight="Medium" Foreground="#2c3e50"/>
                        <TextBox Text="{Binding Email}" 
                                 Watermark="Entrez votre adresse email"
                                 Padding="12"
                                 BorderThickness="1"
                                 BorderBrush="#bdc3c7"
                                 CornerRadius="5"/>
                    </StackPanel>

                    <!-- Password field -->
                    <StackPanel Spacing="5">
                        <TextBlock Text="Mot de passe" FontWeight="Medium" Foreground="#2c3e50"/>
                        <TextBox Text="{Binding Password}" 
                                 PasswordChar="*"
                                 Watermark="Entrez votre mot de passe"
                                 Padding="12"
                                 BorderThickness="1"
                                 BorderBrush="#bdc3c7"
                                 CornerRadius="5"/>
                    </StackPanel>

                    <!-- Confirm Password field (only for registration) -->
                    <StackPanel Name="ConfirmPasswordPanel" IsVisible="{Binding IsRegistering}" Spacing="5">
                        <TextBlock Text="Confirmer le mot de passe" FontWeight="Medium" Foreground="#2c3e50"/>
                        <TextBox Text="{Binding ConfirmPassword}" 
                                 PasswordChar="*"
                                 Watermark="Confirmez votre mot de passe"
                                 Padding="12"
                                 BorderThickness="1"
                                 BorderBrush="#bdc3c7"
                                 CornerRadius="5"/>
                    </StackPanel>

                    <!-- Error message -->
                    <TextBlock Name="ErrorText"
                               Text="{Binding ErrorMessage}" 
                               Foreground="Red" 
                               FontSize="12"
                               TextWrapping="Wrap"/>

                    <!-- Login button -->
                    <Button Name="LoginButton"
                            Command="{Binding LoginCommand}"
                            Content="Se connecter"
                            Background="#34D399"
                            Foreground="White"
                            FontWeight="Medium"
                            Padding="3,12"
                            CornerRadius="5"
                            BorderThickness="0"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Center"/>

                    <!-- Register button -->
                    <Button Name="RegisterButton"
                            Command="{Binding RegisterCommand}"
                            Content="S'inscrire"
                            Background="#27ae60"
                            Foreground="White"
                            FontWeight="Medium"
                            Padding="0,12"
                            CornerRadius="5"
                            BorderThickness="0"
                            HorizontalAlignment="Stretch"
                            IsVisible="{Binding IsRegistering}"/>

                    <!-- Switch mode button -->
                    <Button Name="SwitchButton"
                            Background="Transparent"
                            Foreground="#3498db"
                            BorderThickness="0"
                            HorizontalAlignment="Center"
                            Padding="10,5"/>

                </StackPanel>
            </Border>
        </StackPanel>
    </Border>
</Window>
